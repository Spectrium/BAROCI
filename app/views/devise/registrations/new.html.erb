<!-- appel css 
 -->
<link rel="stylesheet" href="/css/signup.css" />
<!-- html body  -->

<div class="box-signup">
  <div class="sign-up">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %> <%= render "devise/shared/error_messages", resource: resource %>
    <h1 class="text-center">Inscription</h1>
    <div class="sp-flex">
      <div class="sp-flex1">
        <label for="nom-inscri">Nom :</label>
        <%= f.text_field :full_name, autofocus: true, id:'nom-inscri', class: 'form-control', autocomplete: "Nom Complet",placeholder:"Nom", :required => true,:minlength => 3 %>
      </div>
      <div class="sp-flex2">
        <label for="email-inscri">Email :</label>
        <%= f.email_field :email, autofocus: true, id:'email-inscri',class: 'form-control', autocomplete: "email",placeholder:" adressee-mail", :required => true %>
      </div>
    </div>
    <div class="sp-flex">
      <div class="sp-flex1">
        <label for="password-inscri">Mot de passe :</label>
        <%= f.password_field :password, class: 'form-control', id:'password-inscri', autocomplete: "new-password",placeholder:"Mots de passe", :required => true %>
      </div>
      <div class="sp-flex2">
        <label for="password-inscri-confirm">confirmer le mot de passe :</label>
        <%= f.password_field :password_confirmation, id:'password-inscri-confirm',class: 'form-control', autocomplete: "new-password",placeholder:"Confirmer mots de passe", :required => true %>
      </div>
    </div>

    <div class="text-center">
      <%= f.submit "S'inscrire", class:"more_btn_edi log-submit"%>
      <p class="submit-error" style="color: red;"></p>
    </div>
    <% end %> <%= render "devise/shared/links" %>
    <!-- Flash message  -->
    <div class="flash">
      <div class="flash__icon">
        <i class="icon fa fa-info"></i>
      </div>
      <% if flash.each do |type, msg| %>
      <p class="flash__body font-weight-bold"><%= msg %></p>
      <% end.empty? %>
      <p class="font-weight-bold">Remplir les formulaires pour s'inscrire!</p>
      <% end %>
    </div>
  </div>
  <div class="box-signup-image">
    <img src="/images/logo.webp" alt="image mada" />
  </div>
</div>

<script>
  $('#password-inscri-confirm').on('input', function () {
    if ($('#password-inscri').val() != $(this).val()) {
      $('.log-submit').prop('disabled', true);
    } else {
      $('.log-submit').prop('disabled', false);
    }
  });
  $('#password-inscri-confirm').focusout(function () {
    if ($('#password-inscri').val() != $('#password-inscri-confirm').val()) {
      $('.submit-error').html('Mots de passe et la confirmation ne sont pas Ã©gaux.');
    } else {
      $('.submit-error').hide();
    }
  });
</script>
